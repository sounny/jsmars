<!DOCTYPE html>
<html lang="en">

<head>
  <span>Layer Manager</span>
  if (craterLayer.isActive) {
  craterLayer.deactivate();
  craterBtn.innerText = 'Start Crater Counting';
  craterBtn.style.background = '#444';
  } else {
  // Deactivate other tools
  profileTool.deactivate();
  profileBtn.innerText = 'Radial Profile';
  profileBtn.style.background = '#444';

  craterLayer.activate();
  craterBtn.innerText = 'Stop Crater Counting';
  craterBtn.style.background = '#d6336c';
  }
  });

  // Initialize Radial Profile Tool
  const profileTool = new RadialProfileTool(jmars.map);
  const profileChart = new ProfileChart('profile-chart-container');

  const profileBtn = document.getElementById('profile-tool-btn');
  profileBtn.addEventListener('click', () => {
  if (profileTool.isActive) {
  profileTool.deactivate();
  profileBtn.innerText = 'Radial Profile';
  profileBtn.style.background = '#444';
  } else {
  // Deactivate other tools
  craterLayer.deactivate();
  craterBtn.innerText = 'Start Crater Counting';
  craterBtn.style.background = '#444';

  profileTool.activate();
  profileBtn.innerText = 'Stop Profile';
  profileBtn.style.background = '#1098ad';
  }
  });

  // Handle errors
  window.addEventListener('unhandledrejection', function (event) {
  console.error("Unhandled rejection:", event.reason);
  if (layerListContainer.innerText.includes('Loading')) {
  layerListContainer.innerHTML = `<div class="error-msg">Error loading layers: ${event.reason.message}</div>`;
  }
  });
  });
  </script>
  </body>

</html>